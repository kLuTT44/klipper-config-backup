[gcode_macro NOZZLE_WIPE]
gcode:
    {% set wipe_count = 8|int %} # each count is a wipe in one-direction
    G91
    G0 Z5 # avoid potential nozzle drag across existing print
    G90
    G0 Y0} # move nozzle away from edge clips
    G1 Z-1
    {% for wipe in range(wipe_count) %} # simple X-axis back-and-forth wipe
        G0 X{3 + (40 * (loop.index is even))}
    {% endfor %}
    G28 Z